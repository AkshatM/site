---
import BaseHead from '../components/BaseHead.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body class="text-black bg-[#F5F5F5] dark:text-white dark:bg-[#1C1C1C]">
		<header>
		<menu>
			<!-- Dark Mode Toggle -->
			<button 
				id="darkModeToggle"
				tabindex="1"
				class="fixed bottom-4 right-4 z-50 p-2 rounded-full bg-black/20 dark:bg-white/20 hover:bg-black/30 dark:hover:bg-white/30 transition-all duration-200 backdrop-blur-sm"
				aria-label="Toggle dark mode"
			>
				<!-- Sun icon (visible in dark mode) -->
				<svg 
					id="sunIcon" 
					class="w-5 h-5 text-white hidden dark:block" 
					fill="currentColor" 
					viewBox="0 0 20 20"
				>
					<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
				</svg>
				<!-- Moon icon (visible in light mode) -->
				<svg 
					id="moonIcon" 
					class="w-5 h-5 text-black block dark:hidden" 
					fill="currentColor" 
					viewBox="0 0 20 20"
				>
					<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
				</svg>
			</button>
		<menu>
		</header>
		<main>
			<div class="flex flex-col min-h-screen font-[Lora] align-center p-[2rem] gap-[3rem]">
            <slot />
			</div>
		</main>

		<script>
			// Dark mode toggle functionality
			const darkModeToggle = document.getElementById('darkModeToggle');
			const html = document.documentElement;

			// Check for saved theme preference or default to light mode
			const savedTheme = localStorage.getItem('theme');
			if (savedTheme) {
				html.classList.toggle('dark', savedTheme === 'dark');
			} else {
				// Check system preference
				const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				html.classList.toggle('dark', prefersDark);
			}

			// Toggle dark mode
			darkModeToggle?.addEventListener('click', () => {
				const isDark = html.classList.contains('dark');
				html.classList.toggle('dark', !isDark);
				localStorage.setItem('theme', !isDark ? 'dark' : 'light');
			});
		</script>
	</body>
</html>