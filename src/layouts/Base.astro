---
import BaseHead from '../components/BaseHead.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import Headshot from '../assets/professional-photo.jpg';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} image={Headshot} />
		<style>
			.sr-only {
				position: absolute;
				width: 1px;
				height: 1px;
				padding: 0;
				margin: -1px;
				overflow: hidden;
				clip: rect(0, 0, 0, 0);
				white-space: nowrap;
				border: 0;
			}
		</style>
	</head>
	<body class="text-black bg-[#F5F5F5] dark:text-white dark:bg-zinc-950 font-[Lora] min-h-fit grid md:grid-cols-[1fr_auto_1fr] gap-[2rem] my-[2rem] md:mx-[1rem]">
		<header role="banner">
			<nav class="flex md:flex-col flex-row justify-center align-end text-center gap-[1rem] p-[1rem]">
			<p class="text-2xl">home</p>
			<a href="/" class="text-3xl">?</a>
			<a href="https://anaphora.substack.com/" class="text-3xl">✏️</a>
			<button 
					id="darkModeToggle"
					tabindex="1"
					class="w-fit self-center p-2 rounded-full bg-black/20 dark:bg-white/20 hover:bg-black/30 dark:hover:bg-white/30 transition-all duration-200 backdrop-blur-sm"
					aria-label="Toggle dark mode"
			>
					<!-- Sun icon (visible in dark mode) -->
					<svg 
							id="sunIcon" 
							class="w-5 h-5 text-white hidden dark:block" 
							fill="currentColor" 
							viewBox="0 0 20 20"
					>
							<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
					</svg>
					<!-- Moon icon (visible in light mode) -->
					<svg 
							id="moonIcon" 
							class="w-5 h-5 text-black block dark:hidden" 
							fill="currentColor" 
							viewBox="0 0 20 20"
					>
							<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
					</svg>
			</button>
			</nav>
		</header>
		<main role="main" aria-label="Main content">
			<article>
            <slot />
			</article>
		</main>
		<footer>
			<div class="flex md:flex-col justify-center text-left gap-[1rem] md:border-l-2 md:pl-8">
				<a href="mailto:me@akshatmahajan.com" aria-label="Send email to Akshat" class="text-xl">email</a>
				<a href="/resume.pdf" aria-label="Download Akshat's resume PDF" class="text-xl">resumé</a>
				<a href="https://github.com/AkshatM" aria-label="Visit Akshat's GitHub profile" class="text-xl">GitHub</a>
				<a href="https://www.linkedin.com/in/mahajanakshat/" aria-label="Visit Akshat's LinkedIn profile" class="text-xl">LinkedIn</a>
			</div>
		</footer>
		<script>
			// Dark mode functionality
			const darkModeToggle = document.getElementById('darkModeToggle');
			const html = document.documentElement;

			// Check for saved theme preference or default to light mode
			const savedTheme = localStorage.getItem('theme');
			if (savedTheme) {
				const isDark = savedTheme === 'dark';
				html.classList.toggle('dark', isDark);
			} else {
				// Check system preference
				const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				html.classList.toggle('dark', prefersDark);
			}

			// Dark mode toggle handler
			darkModeToggle?.addEventListener('click', () => {
				const isDark = html.classList.contains('dark');
				const newTheme = !isDark;
				html.classList.toggle('dark', newTheme);
				localStorage.setItem('theme', newTheme ? 'dark' : 'light');
			});
		</script>
	</body>
</html>